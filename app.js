!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},n={},i={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(e,t){for(var r,n=[],i=(a.test(t)?e+"/"+t:t).split("/"),o=0,s=i.length;s>o;o++)r=i[o],".."===r?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},d=function(t){return function(r){var n=o(s(t),r);return e.require(n,t)}},p=function(e,t){var n=null;n=v&&v.createHot(e);var i={id:e,exports:{},hot:n};return r[e]=i,t(i.exports,d(e),i),i.exports},c=function(e){return n[e]?c(n[e]):e},l=function(e,t){return c(o(s(e),t))},u=function(e,n){null==n&&(n="/");var a=c(e);if(i.call(r,a))return r[a].exports;if(i.call(t,a))return p(a,t[a]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};u.alias=function(e,t){n[t]=e};var h=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,g=function(e){if(h.test(e)){var t=e.replace(h,"");i.call(n,t)&&n[t].replace(h,"")!==t+"/index"||(n[t]=e)}if(f.test(e)){var r=e.replace(f,"");i.call(n,r)||(n[r]=e)}};u.register=u.define=function(e,n){if("object"==typeof e)for(var a in e)i.call(e,a)&&u.register(a,e[a]);else t[e]=n,delete r[e],g(e)},u.list=function(){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e};var v=e._hmr&&new e._hmr(l,u,t,r);u._cache=r,u.hmr=v&&v.wrap,u.brunch=!0,e.require=u}}(),function(){window;require.register("application.js",function(e,t,r){"use strict";var n=t("jquery"),i=t("scripts/Graph"),a={},o={last:new Date,obj:null},s=(new i,{init:function(){switch(n("input[type='radio'][name='graph']:checked").val()){case"cyto":a=t("scripts/graphCyto");break;default:a=t("scripts/graphViva")}a.init(n("#cy")),a.test(),n("input[type='radio'][name='graph']").change(function(e,r,i){a.clear(),a=t("cyto"==this.value?"scripts/graphCyto":"scripts/graphViva"),a.init(n("#cy")),a.test()});var e=new Worker("workers/dataloader.js");e.addEventListener("message",function(t){if(t.data.indexLoaded)n("#search").removeClass("bg-danger").on("input",function(t){var r=n(this).val(),i=new Date;i-o.last<150&&o.obj&&(console.log("clearing last"),clearTimeout(o.obj)),o.last=i,0===r.split(" ").filter(function(e){return e.length<=2}).length&&(o.obj=setTimeout(function(){e.postMessage({cmd:"search",text:r}),a.clear()},150))});else if(t.data.graph)Object.keys(t.data.graph).forEach(function(e){t.data.graph[e].children.length>0&&t.data.graph[e].children.forEach(function(r){a.addNodes({id:e,label:t.data.graph[e].description},{id:r,label:t.data.graph[r].description})})}),a.layout();else if(t.data.results&&t.data.results.length>0)console.time("Display graph"),e.postMessage({cmd:"graph",node:t.data.results[0].code}),console.timeEnd("Display graph"),console.time("Display results"),n("#results").html(""),t.data.results.forEach(function(e){n("#results").append("<div>"+e.code+": "+e.description+"</div>")}),console.timeEnd("Display results");else if(t.data.progress){if(t.data.file){var r=Math.floor(t.data.progress/2);t.data.progress<100?n("#progress").html('<span class="progress">'+new Array(r).join('<span class="loaded">█</span>')+new Array(51-r).join('<span class="loading">█</span>')+"</span> - "+t.data.file+" - LOADING..."):n("#progress").html('<span class="progress">'+new Array(r).join('<span class="loaded">█</span>')+new Array(51-r).join('<span class="loading">█</span>')+"</span> - "+t.data.file+" - COMPLETED")}}else console.log(t.data)}),e.postMessage({cmd:"load",url:document.URL})}});r.exports=s}),require.register("scripts/Array.js",function(e,t,r){"use strict";var n=function(){Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}};Array.isArray||n(),r.exports={addIsArray:n}}),require.register("scripts/Graph.js",function(e,t,r){"use strict";t("./Array");var n=function(){this.graph={},this.nodes=function(){return Object.keys(this.graph)},this.hasNode=function(e){return this.nodes().indexOf(e)>-1},this.addNode=function(e,t){this.hasNode(e)||(t?this.graph[e]=t:this.graph[e]={description:[],children:[],parent:[]})},this.prop=function(e,t,r){if(this.hasNode(e)){if(void 0===r)return this.graph[e][t];this.graph[e][t]=r}},this.propDelete=function(e,t){this.hasNode(e)&&delete this.graph[e][t]},this.node=function(e){return this.graph[e]},this.merge=function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach(function(e){e.nodes().forEach(function(r){t.addNode(r,e.node(r))})})},this.included=function(){var e=this;return[].concat(this.nodes().filter(function(t){return e.node(t).include}))},this.excluded=function(){var e=this;return[].concat(this.nodes().filter(function(t){return!e.node(t).include}))},this.connectedSubgraphs=function(){var e,t,r,i=[],a=[],o=this;return o.nodes().forEach(function(e){o.prop(e,"unvisited",!0)}),o.nodes().forEach(function(s){if(o.prop(s,"unvisited")){var d=new n;for(a.push(s);a.length>0;){t=a.splice(0,1)[0],d.addNode(t,o.node(t));var p=o.prop(t,"children").concat(o.prop(t,"parent"));for(e=0;e<p.length;e+=1)r=p[e],o.prop(r,"unvisited")&&(o.propDelete(r,"unvisited"),a.push(r))}i.push(d)}}),i},this.getDescendents=function(e){var t,r,n=[],i=this,a=[].concat(i.prop(e,"children"));for(i.nodes().forEach(function(e){i.prop(e,"unvisited",!0)});a.length>0;)if(r=a.splice(0,1)[0],i.prop(r,"unvisited"))for(i.propDelete(r,"unvisited"),n.push(r),t=i.prop(r,"children").length-1;t>=0;t-=1)e=i.prop(r,"children")[t],i.prop(e,"unvisited")&&a.unshift(e);return n},this.displayChildrenInTree=function(e){var t,r,n,i=this,a=[].concat(i.prop(e,"children"));for(i.nodes().forEach(function(e){i.prop(e,"unvisited",!0)});a.length>0;)if(r=a.splice(0,1)[0],i.prop(r,"unvisited")){i.propDelete(r,"unvisited"),n="",i.prop(r,"include")&&(n="  INCLUDED".cyan),i.prop(r,"include")===!1&&(n="  REJECTED".red),console.log(new Array(3*i.prop(r,"depth")).join(" ")+"+-- ".white+"CHILD: ".yellow+r+"-"+i.prop(r,"description").join(" | ").yellow+n);var o=i.prop(r,"children");for(t=o.length-1;t>=0;t-=1)e=o[t],i.prop(e,"unvisited")&&a.unshift(e)}},this.addDepth=function(){var e,t,r,n=[],i=this;return i.nodes().forEach(function(e){i.prop(e,"visited",0),i.prop(e,"depth",0)}),i.nodes().forEach(function(a){if(!(i.prop(a,"visited")||i.prop(a,"parent").length>0))for(n.push(a);n.length>0;){t=n.splice(0,1)[0];var o=i.prop(t,"children");for(e=0;e<o.length;e+=1)r=o[e],i.prop(r,"visited")<i.prop(r,"parent").length-1?i.prop(r,"visited",i.prop(r,"visited")+1):i.prop(r,"visited")===i.prop(r,"parent").length-1&&(i.propDelete(r,"visited"),i.prop(r,"depth",i.prop(t,"depth")+1),n.push(r))}}),i}};n.merge=function(e){var t=new n;return t.merge(e),t},r.exports=n}),require.register("scripts/graphCyto.js",function(e,t,r){var n=t("cytoscape"),i=t("cytoscape-qtip"),a=t("cytoscape-dagre"),o=t("dagre"),s=t("cytoscape-panzoom"),d=t("jquery");window.jQuery=d;t("qtip2");n.registerJquery(d),s(n,d),i(n,d),a(n,o);var p={init:function(e){e.html(""),p.cy=n({container:e,boxSelectionEnabled:!1,autounselectify:!0,style:[{selector:"node",style:{"background-color":"red",label:"data(label)",content:"data(label)"}},{selector:"edge",style:{width:4,"target-arrow-shape":"triangle","line-color":"#9dbaea","target-arrow-color":"#9dbaea"}}],wheelSensitivity:.3})},test:function(){p.cy.add([{group:"nodes",data:{weight:75,id:"n1",label:"Terminology graph"}},{group:"nodes",data:{weight:75,id:"n2",label:"will appear here"}},{group:"edges",data:{source:"n1",target:"n2"}}]),p.layout()},clear:function(){p.cy.off("click","node"),p.cy.remove(p.cy.elements("[weight!=50]"))},addNodes:function(e,t){p.cy.add([{group:"nodes",data:{weight:75,id:e.id,label:e.label}},{group:"nodes",data:{weight:75,id:t.id,label:t.label}},{group:"edges",data:{source:e.id,target:t.id}}])},layout:function(){p.cy.layout({name:"dagre",nodeSep:5,rankDir:"LR"}).panzoom(),p.cy.off("click","node"),p.cy.on("click","node",function(e){var t=e.cyTarget;console.log(e),t.qtip({content:t.data("label"),position:{my:"top center",at:"bottom center",target:t},style:{classes:"qtip-bootstrap",tip:{width:16,height:8}},hide:{event:"unfocus"}},e)})}};r.exports=p}),require.register("scripts/graphSigm.js",function(e,t,r){var n=t("sigma"),i={init:function(e){e.html(""),e.removeAttr("style"),i.s=new n({container:e})},clear:function(){i.s.graph.clear()},test:function(){i.s.graph.addNode({id:"n0",label:"Hello",size:10,color:"#f00"}).addNode({id:"n1",label:"World !",size:10,color:"#00f"}).addEdge({id:"e0",source:"n0",target:"n1"}),console.log(i.s.graph.nodes(),i.s.graph.edges()),i.s.refresh()},addNodes:function(e,t){i.s.graph.nodes(e.id)||i.s.graph.addNode({id:e.id,label:"Hello",x:0,y:0,size:1,color:"#f00"}),i.s.graph.nodes(t.id)||i.s.graph.addNode({id:t.id,label:"Hello",x:0,y:0,size:1,color:"#f00"}),i.s.graph.addEdge({id:e.id+"-"+t.id,source:e.id,target:t.id})},layout:function(){i.s.refresh()}};r.exports=i}),require.register("scripts/graphViva.js",function(e,t,r){var n=t("vivagraphjs"),i={init:function(e){e.html(""),i.g=n.Graph.graph();var t=10,r=n.Graph.View.svgGraphics();r.node(function(e){var r=n.Graph.svg("g"),i=n.Graph.svg("text").attr("y","-15px").attr("x","-"+t/4+"px").text(e.data?e.data.label:"label");return titleTXT=n.Graph.svg("text").attr("y","-3px").attr("x","-"+t/4+"px").text(e.id).attr("fill","#2CA1F4"),img=n.Graph.svg("rect").attr("width",t).attr("height",t).attr("fill","#1A8CE1"),r.append(i),r.append(titleTXT),r.append(img),r}).placeNode(function(e,r){e.attr("transform","translate("+(r.x-t/2)+","+(r.y-t/2)+")")}),i.r=n.Graph.View.renderer(i.g,{container:document.getElementById(e.attr("id")),graphics:r})},test:function(){i.g.addLink(1,2),i.r.run()},clear:function(){i.g.clear()},addNodes:function(e,t){i.g.addNode(e.id,{label:e.label}),i.g.addNode(t.id,{label:t.label}),i.g.addLink(e.id,t.id)},layout:function(){i.r.run()}};r.exports=i}),require.register("scripts/worker.js",function(e,t,r){r.exports=function(e){var t="("+e+")(self)\n\n//# sourceMappingURL: name.js",r=window.URL||window.webkitURL||window.mozURL||window.msURL,n=new Blob([t],{type:"text/javascript"}),i=r.createObjectURL(n),a=new Worker(i);return"function"==typeof r.revokeObjectURL&&r.revokeObjectURL(i),a}}),require.register("___globals___",function(e,t,r){})}(),require("___globals___");