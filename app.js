!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var r={},t={},n={},i={}.hasOwnProperty,a=/^\.\.?(\/|$)/,o=function(e,r){for(var t,n=[],i=(a.test(r)?e+"/"+r:r).split("/"),o=0,s=i.length;s>o;o++)t=i[o],".."===t?n.pop():"."!==t&&""!==t&&n.push(t);return n.join("/")},s=function(e){return e.split("/").slice(0,-1).join("/")},d=function(r){return function(t){var n=o(s(r),t);return e.require(n,r)}},p=function(e,r){var n=null;n=v&&v.createHot(e);var i={id:e,exports:{},hot:n};return t[e]=i,r(i.exports,d(e),i),i.exports},c=function(e){return n[e]?c(n[e]):e},l=function(e,r){return c(o(s(e),r))},u=function(e,n){null==n&&(n="/");var a=c(e);if(i.call(t,a))return t[a].exports;if(i.call(r,a))return p(a,r[a]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};u.alias=function(e,r){n[r]=e};var h=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,g=function(e){if(h.test(e)){var r=e.replace(h,"");i.call(n,r)&&n[r].replace(h,"")!==r+"/index"||(n[r]=e)}if(f.test(e)){var t=e.replace(f,"");i.call(n,t)||(n[t]=e)}};u.register=u.define=function(e,n){if("object"==typeof e)for(var a in e)i.call(e,a)&&u.register(a,e[a]);else r[e]=n,delete t[e],g(e)},u.list=function(){var e=[];for(var t in r)i.call(r,t)&&e.push(t);return e};var v=e._hmr&&new e._hmr(l,u,r,t);u._cache=t,u.hmr=v&&v.wrap,u.brunch=!0,e.require=u}}(),function(){window;require.register("application.js",function(e,r,t){"use strict";var n=r("jquery"),i=r("scripts/Graph"),a={},o={last:new Date,obj:null},s=(new i,{init:function(){switch(n("input[type='radio'][name='graph']:checked").val()){case"cyto":a=r("scripts/graphCyto");break;default:a=r("scripts/graphViva")}a.init(n("#cy")),a.test(),n("input[type='radio'][name='graph']").change(function(e,t,i){a.clear(),a=r("cyto"==this.value?"scripts/graphCyto":"scripts/graphViva"),a.init(n("#cy")),a.test()});var e=new Worker("workers/dataloader.js");e.addEventListener("message",function(r){if(r.data.indexLoaded)n("#search").removeClass("bg-danger").on("input",function(r){var t=n(this).val(),i=new Date;i-o.last<150&&o.obj&&(console.log("clearing last"),clearTimeout(o.obj)),o.last=i,t.length>2&&(o.obj=setTimeout(function(){e.postMessage({cmd:"search",text:t})},150))});else if(r.data.graph)a.clear(),Object.keys(r.data.graph).forEach(function(e){r.data.graph[e].children.length>0&&r.data.graph[e].children.forEach(function(t){a.addNodes({id:e,label:r.data.graph[e].description},{id:t,label:r.data.graph[t].description})})}),a.layout(function(r){e.postMessage({cmd:"graph",node:r})});else if(r.data.results&&r.data.results.length>0)console.time("Display graph"),e.postMessage({cmd:"graph",node:r.data.results[0].code}),console.timeEnd("Display graph"),console.time("Display results"),n("#results").html(""),r.data.results.forEach(function(e){n("#results").append("<div>"+e.code+": "+e.description+"</div>")}),console.timeEnd("Display results");else if(r.data.progress){if(r.data.file){var t=Math.floor(r.data.progress/2);r.data.progress<100?n("#progress").html('<span class="progress">'+new Array(t).join('<span class="loaded">█</span>')+new Array(51-t).join('<span class="loading">█</span>')+"</span> - "+r.data.file+" - LOADING..."):n("#progress").html('<span class="progress">'+new Array(t).join('<span class="loaded">█</span>')+new Array(51-t).join('<span class="loading">█</span>')+"</span> - "+r.data.file+" - COMPLETED")}}else console.log(r.data)}),e.postMessage({cmd:"load",url:document.URL})}});t.exports=s}),require.register("scripts/Array.js",function(e,r,t){"use strict";var n=function(){Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}};Array.isArray||n(),t.exports={addIsArray:n}}),require.register("scripts/Graph.js",function(e,r,t){"use strict";r("./Array");var n=function(){this.graph={},this.nodes=function(){return Object.keys(this.graph)},this.hasNode=function(e){return this.nodes().indexOf(e)>-1},this.addNode=function(e,r){this.hasNode(e)||(r?this.graph[e]=r:this.graph[e]={description:[],children:[],parent:[]})},this.prop=function(e,r,t){if(this.hasNode(e)){if(void 0===t)return this.graph[e][r];this.graph[e][r]=t}},this.propDelete=function(e,r){this.hasNode(e)&&delete this.graph[e][r]},this.node=function(e){return this.graph[e]},this.merge=function(e){var r=this;Array.isArray(e)||(e=[e]),e.forEach(function(e){e.nodes().forEach(function(t){r.addNode(t,e.node(t))})})},this.included=function(){var e=this;return[].concat(this.nodes().filter(function(r){return e.node(r).include}))},this.excluded=function(){var e=this;return[].concat(this.nodes().filter(function(r){return!e.node(r).include}))},this.connectedSubgraphs=function(){var e,r,t,i=[],a=[],o=this;return o.nodes().forEach(function(e){o.prop(e,"unvisited",!0)}),o.nodes().forEach(function(s){if(o.prop(s,"unvisited")){var d=new n;for(a.push(s);a.length>0;){r=a.splice(0,1)[0],d.addNode(r,o.node(r));var p=o.prop(r,"children").concat(o.prop(r,"parent"));for(e=0;e<p.length;e+=1)t=p[e],o.prop(t,"unvisited")&&(o.propDelete(t,"unvisited"),a.push(t))}i.push(d)}}),i},this.getDescendents=function(e){var r,t,n=[],i=this,a=[].concat(i.prop(e,"children"));for(i.nodes().forEach(function(e){i.prop(e,"unvisited",!0)});a.length>0;)if(t=a.splice(0,1)[0],i.prop(t,"unvisited"))for(i.propDelete(t,"unvisited"),n.push(t),r=i.prop(t,"children").length-1;r>=0;r-=1)e=i.prop(t,"children")[r],i.prop(e,"unvisited")&&a.unshift(e);return n},this.displayChildrenInTree=function(e){var r,t,n,i=this,a=[].concat(i.prop(e,"children"));for(i.nodes().forEach(function(e){i.prop(e,"unvisited",!0)});a.length>0;)if(t=a.splice(0,1)[0],i.prop(t,"unvisited")){i.propDelete(t,"unvisited"),n="",i.prop(t,"include")&&(n="  INCLUDED".cyan),i.prop(t,"include")===!1&&(n="  REJECTED".red),console.log(new Array(3*i.prop(t,"depth")).join(" ")+"+-- ".white+"CHILD: ".yellow+t+"-"+i.prop(t,"description").join(" | ").yellow+n);var o=i.prop(t,"children");for(r=o.length-1;r>=0;r-=1)e=o[r],i.prop(e,"unvisited")&&a.unshift(e)}},this.addDepth=function(){var e,r,t,n=[],i=this;return i.nodes().forEach(function(e){i.prop(e,"visited",0),i.prop(e,"depth",0)}),i.nodes().forEach(function(a){if(!(i.prop(a,"visited")||i.prop(a,"parent").length>0))for(n.push(a);n.length>0;){r=n.splice(0,1)[0];var o=i.prop(r,"children");for(e=0;e<o.length;e+=1)t=o[e],i.prop(t,"visited")<i.prop(t,"parent").length-1?i.prop(t,"visited",i.prop(t,"visited")+1):i.prop(t,"visited")===i.prop(t,"parent").length-1&&(i.propDelete(t,"visited"),i.prop(t,"depth",i.prop(r,"depth")+1),n.push(t))}}),i}};n.merge=function(e){var r=new n;return r.merge(e),r},t.exports=n}),require.register("scripts/graphCyto.js",function(e,r,t){var n=r("cytoscape"),i=r("cytoscape-qtip"),a=r("cytoscape-dagre"),o=r("dagre"),s=r("cytoscape-panzoom"),d=r("jquery");window.jQuery=d;r("qtip2");n.registerJquery(d),s(n,d),i(n,d),a(n,o);var p={init:function(e){e.html(""),p.cy=n({container:e,boxSelectionEnabled:!1,autounselectify:!0,style:[{selector:"node",style:{"background-color":"red",label:"data(label)",content:"data(label)"}},{selector:"edge",style:{width:4,"target-arrow-shape":"triangle","line-color":"#9dbaea","target-arrow-color":"#9dbaea"}}],wheelSensitivity:.3})},test:function(){p.cy.add([{group:"nodes",data:{weight:75,id:"n1",label:"Terminology graph"}},{group:"nodes",data:{weight:75,id:"n2",label:"will appear here"}},{group:"edges",data:{source:"n1",target:"n2"}}]),p.layout()},clear:function(){p.cy.off("click","node"),p.cy.remove(p.cy.elements("[weight!=50]"))},addNodes:function(e,r){p.cy.add([{group:"nodes",data:{weight:75,id:e.id,label:e.label}},{group:"nodes",data:{weight:75,id:r.id,label:r.label}},{group:"edges",data:{source:e.id,target:r.id}}])},layout:function(e){p.cy.layout({name:"dagre",nodeSep:5,rankDir:"LR",minLen:3}).panzoom(),p.cy.off("click","node"),p.cy.on("click","node",function(r){var t=r.cyTarget;console.log(r),e(t.data("id"))})}};t.exports=p}),require.register("scripts/graphSigm.js",function(e,r,t){var n=r("sigma"),i={init:function(e){e.html(""),e.removeAttr("style"),i.s=new n({container:e})},clear:function(){i.s.graph.clear()},test:function(){i.s.graph.addNode({id:"n0",label:"Hello",size:10,color:"#f00"}).addNode({id:"n1",label:"World !",size:10,color:"#00f"}).addEdge({id:"e0",source:"n0",target:"n1"}),console.log(i.s.graph.nodes(),i.s.graph.edges()),i.s.refresh()},addNodes:function(e,r){i.s.graph.nodes(e.id)||i.s.graph.addNode({id:e.id,label:"Hello",x:0,y:0,size:1,color:"#f00"}),i.s.graph.nodes(r.id)||i.s.graph.addNode({id:r.id,label:"Hello",x:0,y:0,size:1,color:"#f00"}),i.s.graph.addEdge({id:e.id+"-"+r.id,source:e.id,target:r.id})},layout:function(){i.s.refresh()}};t.exports=i}),require.register("scripts/graphViva.js",function(e,r,t){var n=r("vivagraphjs"),i={init:function(e){e.html(""),i.g=n.Graph.graph();var r=10,t=n.Graph.View.svgGraphics();t.node(function(e){var t=n.Graph.svg("g"),i=n.Graph.svg("text").attr("y","-15px").attr("x","-"+r/4+"px").text(e.data?e.data.label:"label");return titleTXT=n.Graph.svg("text").attr("y","-3px").attr("x","-"+r/4+"px").text(e.id).attr("fill","#2CA1F4"),img=n.Graph.svg("rect").attr("width",r).attr("height",r).attr("fill","#1A8CE1"),t.append(i),t.append(titleTXT),t.append(img),t}).placeNode(function(e,t){e.attr("transform","translate("+(t.x-r/2)+","+(t.y-r/2)+")")}),i.r=n.Graph.View.renderer(i.g,{container:document.getElementById(e.attr("id")),graphics:t})},test:function(){i.g.addLink(1,2),i.r.run()},clear:function(){i.g.clear()},addNodes:function(e,r){i.g.addNode(e.id,{label:e.label}),i.g.addNode(r.id,{label:r.label}),i.g.addLink(e.id,r.id)},layout:function(){i.r.run()}};t.exports=i}),require.register("scripts/worker.js",function(e,r,t){t.exports=function(e){var r="("+e+")(self)\n\n//# sourceMappingURL: name.js",t=window.URL||window.webkitURL||window.mozURL||window.msURL,n=new Blob([r],{type:"text/javascript"}),i=t.createObjectURL(n),a=new Worker(i);return"function"==typeof t.revokeObjectURL&&t.revokeObjectURL(i),a}}),require.register("___globals___",function(e,r,t){})}(),require("___globals___");